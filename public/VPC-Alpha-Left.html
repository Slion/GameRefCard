


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="../../css/general.css" />
    <link rel="stylesheet" href="../../css/header.css" />
    <link rel="stylesheet" href="../../css/desktop.css" />
    <link rel="stylesheet" href="../../css/modal.css" />
    <!-- Shown on taskbar and default title bar which is enabled when transparent is false -->
    <title>JoyMap</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!--Design time-->
    <script src="../node_modules/leader-line2/leader-line.min.js"></script>
    <!--Runtime-->
    <script src="../js/leader-line.min.js"></script>

    <script id="script">

        let lines = new Array();

        function LinkLabelsToAnchors() {

            let options = {
                color: 'BlueViolet',
                //startPlug: 'disc',
                endPlug: 'disc',
                //path: 'grid'
                path: 'straight'
            };

            // Link all labels to anchors
            // Get our refcard content
            let content = document.getElementById('content');  
            // Get all our ref card label groups
            let lgs = content.getElementsByClassName(`label-group`);
            //console.log(lgs);  

            // For each label group in our refcard
            for (let lg of lgs) {
              //console.log(lg);
              // Workouk the anchor id for this label group
              let anchorId = lg.id.replace('label-group-','anchor-');
              //anchorId = anchorId.replace('label-','anchor-');
              // Create our link object 
              let line = new LeaderLine(lg,content.querySelector(`#${anchorId}`),options);
              // Keep track of it
              lines.push(line);
            }  
        }

        window.addEventListener('load', LinkLabelsToAnchors);

        /*Needed for resize to work in iframe*/
        window.addEventListener('resize', function () {
            for (const l of lines) {
                l.position();
            }
        }, false);

        //LinkLabelsToAnchors();

    </script>



    <style id="style">

        :root {
          --grc-id-anchor-offset-x: 0.8;
          --grc-id-label-group-width: 33%;
          --grc-id-label-group-offset-right: 65%;
          --grc-id-label-group-offset-left: 2%;
        }

        main {
          /* padding:10%; */
        }

        .container {
            position: relative;
            /*box-sizing: border-box;
            overflow: visible;*/
            /* padding: -10px; */
            outline: 1px solid Lime;
        }

        img.background {
            position:relative;
            display: block;
            width: 50%;
            height: auto;            
            margin-left: auto;
            margin-right: auto;
            padding-top: 10%;
            padding-bottom: 10%;
            /*background-color: white;*/
            /* padding: 10% 10% 10% 10%; */            
            /* outline: 1px solid BlueViolet; */
        }

        .anchor {
            position: absolute;
            outline: 1px solid lime;
        }


        div.label {
            position: relative;
            outline: 1px solid BlueViolet;
            /* Padding is inside the ouline */
            /* padding: 5px; */
            /* Margin is outside the ouline */
            /* margin: 1%; */

            /* For it to work with multiple line of text */
            display: flex;
            align-items:center;
        }

        span.label {
            position: relative;
            /* vertical-align: middle; */
            /* Padding is inside the ouline */
            padding: 6px 6px 6px 10px;
            /* Margin is outside the ouline */
            /* margin: 1%; */
            /* Separation between icon and text */
            border-left: 2px solid BlueViolet;
            height: 100%;
            /* Scallable font */
            font-size: 1vw;
        }


        img.label {
          padding: 2px;
          margin: 0px;
          vertical-align:middle;
          width: 5%;
          /* border-right: 2px solid BlueViolet; */
          /* outline: 1px solid BlueViolet; */
        }

        .label-group {
            position: absolute;
            outline: 3px solid BlueViolet;
        }

        /* Right side */
        #anchor-button-red {
            left: 54%;
            top: 27%;
        }

        #label-group-button-red {
          left: var(--grc-id-label-group-offset-right);
            top: 2%;
            width: var(--grc-id-label-group-width);
        }

        #anchor-mini-joystick {
            left: 58%;
            top: 33%;
        }

        #label-group-mini-joystick {          
          left: var(--grc-id-label-group-offset-right);
          top: 12%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-trigger-flip {
            left: 56%;
            top: 41.5%;
        }
  
        #label-group-trigger-flip {
          left: var(--grc-id-label-group-offset-right);
          top: 30%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-trigger {
            left: 54%;
            top: 43.2%;
        }
  
        #label-group-trigger {
          left: var(--grc-id-label-group-offset-right);
          top: 44%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-hat-thumb {
            left: 54%;
            top: 49%;
        }
  
        #label-group-hat-thumb {
          left: var(--grc-id-label-group-offset-right);
          top: 55%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-axis-lever {
            left: 54%;
            top: 58%;
        }
  
        #label-group-axis-lever {
          left: var(--grc-id-label-group-offset-right);
          top: 78%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-button-pinky {
            left: 51%;
            top: 63%;
        }
  
        #label-group-button-pinky {
          left: var(--grc-id-label-group-offset-right);
          top: 90%;
          width: var(--grc-id-label-group-width);
        }

      /* Left side */

        #anchor-hat-two-way {
            left: 52%;
            top: 20%;
        }
  
        #label-group-hat-two-way {
          left: var(--grc-id-label-group-offset-left);
          top: 2%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-hat-top {
            left: 49.7%;
            top: 25.5%;
        }
  
        #label-group-hat-top {
          left: var(--grc-id-label-group-offset-left);
          top: 16%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-button-black {
            left: 49.5%;
            top: 32%;
        }
  
        #label-group-button-black {
          left: var(--grc-id-label-group-offset-left);
          top: 37%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-hat-middle {
            left: 51%;
            top: 34%;
        }
  
        #label-group-hat-middle {
          left: var(--grc-id-label-group-offset-left);
          top: 45%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-wheel {
            left: 49%;
            top: 40%;
        }
  
        #label-group-wheel {
          left: var(--grc-id-label-group-offset-left);
          top: 66%;
          width: var(--grc-id-label-group-width);
        }

        #anchor-joystick {
            left: 45%;
            top: 77%;
        }
  
        #label-group-joystick {
          left: var(--grc-id-label-group-offset-left);
          top: 84%;
          width: var(--grc-id-label-group-width);
        }


    </style>

</head>

<body class="desktop">
  <!-- -------------------------------- Header ------------------------------- -->

  <!--<header id="header" class="app-header">
    <img src="../../img/header_icon.svg" />
    <h1>Sample App / desktop window</h1>
    <div class="window-controls-group">
      <button id="minimizeButton" class="window-control window-control-minimize" />
      <button id="maximizeButton" class="window-control window-control-maximize" />
      <button id="closeButton" class="window-control window-control-close" />
    </div>
  </header>-->

  <!-- --------------------------------- Main -------------------------------- -->

<!--<div>Stuff before</div>-->

  <main>

    <div id="content" class="container">
    
        <img class="background" src="img/VPC-Alpha-Left-Front-super.png">        
        </img>
        
        <!-- 
          NOTE:
          Mapping to hardware buttons is don using such ids: label-button-xx
          Same for the axes label ids that should look like: VPC_Stick_x_x
        -->

        <div id="label-group-button-red" class="label-group">
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-6" class="label">Red button</span></div>        
        </div>
        <div id="anchor-button-red" class="anchor"></div>    
        
        <div id="label-group-mini-joystick" class="label-group">
          <div class="label"><img src="img/icon-axis-x.svg" class="label" /><span id="VPC_Stick_1_4" class="label">Mini-joystick rX</span></div>
          <div class="label"><img src="img/icon-axis-y.svg" class="label" /><span id="VPC_Stick_1_3" class="label">Mini-joystick rY</span></div>        
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-5" class="label">Mini-joystick button long text</span></div>        
        </div>
        <div id="anchor-mini-joystick" class="anchor"></div>    
        
        <div id="label-group-trigger" class="label-group">
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-3" class="label">Trigger first stage</span></div>
          <div class="label"><img src="img/icon-button-stage-second.svg" class="label" /><span id="label-button-4" class="label">Trigger second stage</span></div>        
        </div>
        <div id="anchor-trigger" class="anchor"></div>    

        <div id="label-group-trigger-flip" class="label-group">
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-1" class="label">Flip trigger first stage</span></div>
          <div class="label"><img src="img/icon-button-stage-second.svg" class="label" /><span id="label-button-2" class="label">Flip trigger second stage</span></div>        
        </div>
        <div id="anchor-trigger-flip" class="anchor"></div>

        <div id="label-group-hat-thumb" class="label-group">
          <div class="label"><img src="img/icon-arrow-up.svg" class="label" /><span id="label-button-26" class="label">Thumb hat top</span></div>
          <div class="label"><img src="img/icon-arrow-right.svg" class="label" /><span id="label-button-27" class="label">Thumb hat right</span></div>        
          <div class="label"><img src="img/icon-arrow-down.svg" class="label" /><span id="label-button-28" class="label">Thumb hat down</span></div>        
          <div class="label"><img src="img/icon-arrow-left.svg" class="label" /><span id="label-button-29" class="label">Thumb hat left</span></div>        
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-25" class="label">Thumb hat button</span></div>
        </div>
        <div id="anchor-hat-thumb" class="anchor"></div> 

        <div id="label-group-axis-lever" class="label-group">
          <div class="label"><img src="img/icon-axis-y.svg" class="label" /><span id="VPC_Stick_1_2" class="label">Lever axis</span></div>        
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-31" class="label">Lever button</span></div>        
        </div>
        <div id="anchor-axis-lever" class="anchor"></div>    

        <div id="label-group-button-pinky" class="label-group">
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-30" class="label">Pinky button</span></div>        
        </div>
        <div id="anchor-button-pinky" class="anchor"></div>  
        
        <!-- Left side -->

        <div id="label-group-hat-two-way" class="label-group">
          <div class="label"><img src="img/icon-arrow-up.svg" class="label" /><span id="label-button-19" class="label">2-way hat up</span></div>        
          <div class="label"><img src="img/icon-arrow-down.svg" class="label" /><span id="label-button-20" class="label">2-way hat down</span></div>
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-18" class="label">2-way hat button</span></div>        
        </div>
        <div id="anchor-hat-two-way" class="anchor"></div>    

        <div id="label-group-hat-top" class="label-group">
          <div class="label"><img src="img/icon-arrow-up.svg" class="label" /><span id="label-button-8" class="label">Top hat top</span></div>
          <div class="label"><img src="img/icon-arrow-right.svg" class="label" /><span id="label-button-9" class="label">Top hat right</span></div>        
          <div class="label"><img src="img/icon-arrow-down.svg" class="label" /><span id="label-button-10" class="label">Top hat down</span></div>        
          <div class="label"><img src="img/icon-arrow-left.svg" class="label" /><span id="label-button-11" class="label">Top hat left</span></div>        
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-7" class="label">Top hat button</span></div>
        </div>
        <div id="anchor-hat-top" class="anchor"></div>    

        <div id="label-group-button-black" class="label-group">
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-12" class="label">Black button</span></div>        
        </div>
        <div id="anchor-button-black" class="anchor"></div>    

        <div id="label-group-hat-middle" class="label-group">
          <div class="label"><img src="img/icon-arrow-up.svg" class="label" /><span id="label-button-14" class="label">Middle hat top</span></div>
          <div class="label"><img src="img/icon-arrow-right.svg" class="label" /><span id="label-button-15" class="label">Middle hat right</span></div>        
          <div class="label"><img src="img/icon-arrow-down.svg" class="label" /><span id="label-button-16" class="label">Middle hat down</span></div>        
          <div class="label"><img src="img/icon-arrow-left.svg" class="label" /><span id="label-button-17" class="label">Middle hat left</span></div>        
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-13" class="label">Middle hat button</span></div>
        </div>
        <div id="anchor-hat-middle" class="anchor"></div>

        <div id="label-group-wheel" class="label-group">
          <div class="label"><img src="img/icon-arrow-up.svg" class="label" /><span id="label-button-24" class="label">Wheel up</span></div>
          <div class="label"><img src="img/icon-arrow-down.svg" class="label" /><span id="label-button-23" class="label">Wheel down</span></div>                  
          <div class="label"><img src="img/icon-button-stage-first.svg" class="label" /><span id="label-button-22" class="label">Wheel first stage button</span></div>
          <div class="label"><img src="img/icon-button-stage-second.svg" class="label" /><span id="label-button-21" class="label">Wheel second stage button</span></div>        
        </div>
        <div id="anchor-wheel" class="anchor"></div>

        <div id="label-group-joystick" class="label-group">
          <div class="label"><img src="img/icon-axis-x.svg" class="label" /><span id="VPC_Sens_5_0" class="label">Joystick X</span></div>
          <div class="label"><img src="img/icon-axis-y.svg" class="label" /><span id="VPC_Sens_6_0" class="label">Joystick Y</span></div>                  
          <div class="label"><img src="img/icon-axis-twist.svg" class="label" /><span id="VPC_Stick_1_1" class="label">Joystick twist</span></div>
        </div>
        <div id="anchor-joystick" class="anchor"></div>

  </div>
  </main>

  <!--<div>Stuff after</div>-->

</body>




</html>
